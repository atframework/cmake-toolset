diff --git a/src/unix/process.c b/src/unix/process.c
index 8802e4f..85a6f4f 100644
--- a/src/unix/process.c
+++ b/src/unix/process.c
@@ -35,13 +35,15 @@
 #include <fcntl.h>
 #include <poll.h>
 
-#if defined(__APPLE__) && !TARGET_OS_IPHONE
+#if defined(__APPLE__)
 # include <spawn.h>
 # include <paths.h>
 # include <sys/kauth.h>
-# include <sys/types.h>
 # include <sys/sysctl.h>
 # include <dlfcn.h>
+#endif
+
+#if defined(__APPLE__) && !TARGET_OS_IPHONE
 # include <crt_externs.h>
 # include <xlocale.h>
 # define environ (*_NSGetEnviron())
